## 7. Lectura y escritura .csv

---
##### 7.1 Separación por delimitadores

Cada línea de un fichero `.csv` representa una fila de datos, y cada campo está separado por un símbolo, como:

```csv
nombre;edad;ciudad
Ana;25;Santiago
Luis;30;Temuco
```

El delimitador puede ser:

* `;` (punto y coma): común en archivos CSV en español.
* `,` (coma): común en sistemas internacionales.

---
##### 7.2 Lectura usando split()

Para procesar cada línea y acceder a sus columnas, se usa el método `split()`, que **divide un `String` en partes**, según el símbolo delimitador.

```java
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class LeerCSV {
    public static void main(String[] args) {
        try (BufferedReader lector = new BufferedReader(new FileReader("datos.csv"))) {
            String linea;
            while ((linea = lector.readLine()) != null) {
                String[] columnas = linea.split(";");
                System.out.println("Nombre: " + columnas[0]);
                System.out.println("Edad: " + columnas[1]);
                System.out.println("Ciudad: " + columnas[2]);
                System.out.println("-------------");
            }
        } catch (IOException e) {
            System.out.println("Error: " + e.getMessage());
        }
    }
}
```


| Método                | Descripción                                                                          |
| --------------------- | ------------------------------------------------------------------------------------ |
| `split(String regex)` | Divide una línea en partes usando el símbolo dado (por ejemplo, `;`) como separador. |


---
##### 7.3 Escritura respetando formato de columnas

Para escribir en un archivo `.csv`, se deben **organizar los datos en el mismo orden** y separar los campos con el delimitador correcto. Al final de cada fila, se escribe un salto de línea para crear una nueva fila en el archivo.

```java
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;

public class EscribirCSV {
    public static void main(String[] args) {
        try (BufferedWriter escritor = new BufferedWriter(new FileWriter("datos.csv", true))) {
            escritor.write("Naty;21;Temuco");
            escritor.newLine();
            escritor.write("Donnie;28;Concepción");
            escritor.newLine();
            escritor.flush();
        } catch (IOException e) {
            System.out.println("Error al escribir: " + e.getMessage());
        }
    }
}
```

----
##### 7.4 Recomendaciones

* Usar el **mismo delimitador** en todo el archivo (`;` o `,`).
* Mantener siempre el **mismo número de columnas** en cada fila.
* Evitar saltos de línea o símbolos especiales dentro de los campos si no se manejan correctamente.

