## 9. Buenas prácticas al trabajar con ficheros y directorios

### 9.1 Uso de `Map` o `List` para representar datos leídos

Los datos leídos desde un fichero deben almacenarse en **estructuras de datos adecuadas**, según el tipo de información que se procesa:

* **`List<String>`** se usa cuando se necesita guardar una secuencia de líneas o valores simples (como una lista de nombres o mensajes).
* **`Map<String, String>`** es útil cuando el fichero contiene pares clave-valor, como usuarios y contraseñas (`usuario;clave`), ya que permite una búsqueda rápida por clave.

##### 9.1.1 Ejemplo

```java
Map<String, String> credenciales = new HashMap<>();
credenciales.put("Nataly", "clave123");
```

Este enfoque permite trabajar con los datos de manera estructurada, evitando tener que leer el archivo repetidamente.

---
### 9.2 Separación de responsabilidades

Es una buena práctica **dividir el código según su función específica**, para mantenerlo ordenado y fácil de mantener. En programas que usan ficheros, normalmente se distinguen tres partes:

| Rol            | Responsabilidad                                                       |
| -------------- | --------------------------------------------------------------------- |
| **Lector**     | Se encarga exclusivamente de abrir y leer el fichero.                 |
| **Procesador** | Interpreta, transforma o valida los datos leídos.                     |
| **Escritor**   | Se encarga de guardar o registrar la información en un fichero nuevo. |

Esta separación evita mezclar lógica de entrada/salida con procesamiento de datos, lo que mejora la comprensión y facilita el mantenimiento del código.

---
### 9.3 Validación y manejo de errores

Antes de leer un fichero es necesario aplicar **validaciones básicas** para evitar errores en tiempo de ejecución:

* Verificar si el fichero **existe**.
* Verificar que **no sea un directorio** en vez de un fichero.
* Capturar errores con bloques `try-catch` para manejar excepciones como `FileNotFoundException` o `IOException`.

##### 9.3.1 Ejemplo

```java
File archivo = new File("datos.txt");

if (!archivo.exists()) {
    System.out.println("El fichero no existe.");
    return;
}

if (!archivo.isFile()) {
    System.out.println("La ruta no apunta a un fichero.");
    return;
}
```

---
### 9.4 Validación antes de abrir un fichero

Nunca se debe asumir que un fichero existe o está en buen estado. Siempre se debe validar **antes de abrirlo**, especialmente si el fichero fue creado por otro sistema o usuario.

Esto ayuda a prevenir:

* Fallos por rutas incorrectas.
* Lecturas de carpetas en lugar de archivos.
* Archivos vacíos o mal formateados.

Además, el manejo correcto de errores permite mostrar mensajes comprensibles al usuario y mantener el programa funcionando sin interrupciones críticas.


